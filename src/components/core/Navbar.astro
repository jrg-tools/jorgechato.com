---
import { TITLE } from '@/content/constants';
import { SITE_MAP, SNS } from '@/content/siteMap';
import { type LinkType } from '@/utils/helper';

interface Props {
  title?: string;
}
const { title = TITLE } = Astro.props;
---

<header id="header-nav" class="fixed top-0 z-50 w-full px-6 py-4 select-none">
  <div class="mx-auto flex max-w-7xl items-center justify-between gap-16">
    <a href="/" class="relative z-10 flex flex-row items-center gap-2">
      <img src="/logo.webp" loading="lazy" class="w-9" alt="Logo" />
      <h2 class="text-xl font-bold whitespace-nowrap">
        {title}
      </h2>
    </a>

    <nav class="flex items-center gap-8">
      {
        SITE_MAP.filter((item: LinkType) => item.inHeader).map(
          (item: LinkType) => {
            const isActive = Astro.url.pathname === item.url;
            return (
              <a
                href={item.url}
                class={`cursor-pointer font-semibold transition-opacity duration-300 hover:opacity-100 ${isActive ? 'underline decoration-2 underline-offset-4' : ''}`}
              >
                {item.name}
              </a>
            );
          }
        )
      }
      {
        SNS.filter((item: LinkType) => item.inHeader).map((item, index) => (
          <a
            class={`-mx-2 cursor-pointer opacity-80 transition-opacity duration-300 hover:opacity-100 ${index === 0 ? 'ml-0' : ''}`}
            href={item.url}
            target="_blank"
          >
            <item.icon />
          </a>
        ))
      }
    </nav>
  </div>
</header>
