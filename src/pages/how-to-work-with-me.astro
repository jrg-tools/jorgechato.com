---
import Layout from '@/layouts/Layout.astro';
import { MarkdownRenderer } from '@/components/MarkdownRenderer';
import { GITHUB_OWNER, GITHUB_GIST } from 'astro:env/server';

let data = '';
try {
  const response = await fetch(
    `https://gist.githubusercontent.com/${GITHUB_OWNER}/${GITHUB_GIST}/raw`
  );
  data = await response.text();
} catch {
  return new Response(null, { status: 404 });
}
---

<Layout>
  <section
    class="m-auto mb-24 max-w-screen-md object-center px-4 text-center select-none"
  >
    <MarkdownRenderer content={data} client:load />
  </section>
</Layout>
